<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

<nav class="navbar navbar-toggleable-md navbar-light bg-faded">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
    <a class="navbar-brand" href="/">
      <i class="fa fa-truck" aria-hidden="true"></i>
      Home
    </a>
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
      <li class="nav-item">
        <a class="nav-link" href="/order/new">Create Order</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/orders">Find Listing</a>
      </li>
      <% if user_signed_in? %>
        <li class="nav-item"><%= link_to("Log Out", destroy_user_session_url, method: :delete, class: 'nav-link') %></li>
      <% else %>
        <li class="nav-item"><%= link_to "Log In", new_user_session_url, class: 'nav-link' %></li>
        <li class="nav-item"><%= link_to "Sign Up", new_user_registration_url, class: 'nav-link' %></li>
      <% end %>
    </ul>
    <form id="search-form" onsubmit="redirectToVendor()">
      <input style="width: 30vw; padding:1%; border-radius:4px; border:black;" list="vendors-list" id="search_vendor" type="text" placeholder=" Search for a Vendor">
      <input style="background-color:black; color:white; font-weight:100; width: 5vw; padding:1%; border-radius:4px; border:black;" type="submit" value="Search">
    </form>  </div>

  <datalist id="vendors-list">

  </datalist>

<script>
function redirectToVendor(){
   var list_of_vendors = document.getElementById("vendors-list").getElementsByTagName("option");
   for (var i = 0; i < list_of_vendors.length; i++){
     if (list_of_vendors[i].value === document.getElementById("search_vendor").value){
       document.getElementById("search-form").action = "/vendor/" + document.getElementById("search_vendor").value;
       return;
     }
   }
}
</script>

</nav>
